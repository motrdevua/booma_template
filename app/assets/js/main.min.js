"use strict";const ua=navigator.userAgent,clickEvent=ua.match(/iPad/i)||ua.match(/iPhone/)?"touchstart":"click",paddingOffset=window.innerWidth-document.body.offsetWidth+"px",buttonOpenModal=document.querySelectorAll(".modal__open"),modalContent=document.querySelectorAll("[data-windowid]");let contentHTML="";class Modal{constructor(){const e=document.querySelector(".wrapper"),t=this;t.open=function(){return t.wrapper=document.createElement("div"),t.window=document.createElement("div"),t.content=document.createElement("div"),t.closeButton=document.createElement("div"),t.wrapper.classList.add("modal__wrapper"),t.window.classList.add("modal"),t.content.classList.add("modal__content"),t.closeButton.classList.add("modal__close"),document.body.insertBefore(t.wrapper,e),t.wrapper.appendChild(t.window),t.window.appendChild(t.closeButton),t.window.appendChild(t.content),t.wrapper.classList.add("modal__wrapper-active"),t.window.classList.add("modal-fade-in"),t.closeButton.classList.add("modal__close-active"),t.content.innerHTML=contentHTML,document.body.style.overflow="hidden",document.body.style.paddingRight=paddingOffset,document.querySelector(".header").style.paddingRight=paddingOffset,t},t.close=function(){return t.wrapper.classList.remove("modal__wrapper-active"),t.closeButton.classList.remove("modal__close-active"),t.wrapper.remove(),document.body.style.overflow="unset",document.body.style.paddingRight="0",document.querySelector(".header").style.paddingRight="0",t},document.addEventListener(clickEvent,(e=>{e.target!==t.wrapper&&e.target!==t.closeButton||t.close()}))}}const modal=new Modal;function addingContent(e){for(let t=0;t<modalContent.length;t+=1)modalContent[t].dataset.windowid===e.dataset.buttonid&&(contentHTML=modalContent[t].innerHTML)}function UrlExists(e){const t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),404!==t.status}function generateURL(e){return`https://www.youtube.com/embed/${e}?rel=0&showinfo=0&autoplay=1&modestbranding=1&iv_load_policy=3`}function createIframe(e){const t=document.createElement("iframe");return t.setAttribute("allowfullscreen",""),t.setAttribute("frameborder","0"),t.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",t.setAttribute("src",generateURL(e)),t.classList.add("video__media"),t}function setupVideo(e){const t=e.dataset.id,n=e.dataset.postersrc,o=+e.dataset.postercheck,d=`\n    <picture>\n      <source srcset="https://i.ytimg.com/vi_webp/${t}/maxresdefault.webp" type="image/webp">\n      <img class="video__media" src="https://i.ytimg.com/vi/${t}/maxresdefault.jpg" alt="poster">\n    </picture>\n  `,a=document.createElement("a");a.classList.add("video__link"),a.setAttribute("href","https://youtu.be/ID".replace("ID",t)),1===o&&n&&UrlExists(n)?a.innerHTML=`<img class="video__media" src="${n}" alt="poster">`:a.innerHTML=d,e.appendChild(a);const i=document.createElement("button");i.classList.add("video__button"),i.setAttribute("type","button"),i.setAttribute("aria-label","play"),i.innerHTML='\n    <svg class="play" width="100" height="100" viewbox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path class="play__circle" d="M50 100c27.614 0 50-22.386 50-50S77.614 0 50 0 0 22.386 0 50s22.386 50 50 50z" />\n      <path class="play__triangle" d="M69.166 48.463c.255.163.466.39.612.658a1.843 1.843 0 010 1.757 1.802 1.802 0 01-.612.659L40.726 69.72c-1.185.758-2.726-.11-2.726-1.538V31.818c0-1.427 1.54-2.296 2.727-1.537l28.439 18.182z" />\n    </svg>\n  ',e.appendChild(i),e.addEventListener("click",(n=>{if(n.preventDefault(),!e.classList.contains("bonus__video")){const n=createIframe(t);a.remove(),i.remove(),e.appendChild(n)}})),a.removeAttribute("href"),e.classList.add("video--enabled")}function findVideo(){const e=document.querySelectorAll(".video");for(let t=0;t<e.length;t+=1)setupVideo(e[t])}buttonOpenModal.forEach((e=>{e.addEventListener(clickEvent,(t=>{t.preventDefault(),addingContent(e),modal.open()}))})),findVideo(),window.addEventListener("load",(()=>{}));
//# sourceMappingURL=main.js.map
