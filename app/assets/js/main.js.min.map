{"version":3,"sources":["main.js","modal.js","youtube-iframe.js"],"names":["ua","navigator","userAgent","clickEvent","match","paddingOffset","concat","window","innerWidth","document","body","offsetWidth","buttonOpenModal","querySelectorAll","modalContent","modalContentHTML","Modal","constructor","wrapper","querySelector","modal","this","create","className","createElement","content","closeButton","classList","add","insertBefore","appendChild","open","innerHTML","style","overflow","paddingRight","close","remove","addEventListener","e","target","addingContent","btn","i","length","dataset","windowid","buttonid","type","UrlExists","url","http","XMLHttpRequest","send","status","generateURL","id","createIframe","iframe","setAttribute","allow","setupVideo","video","vID","posterSrc","postersrc","posterCheck","postercheck","linkContent","link","replace","button","preventDefault","contains","removeAttribute","findVideo","videos","forEach"],"mappings":"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","file":"main.js","sourcesContent":["const ua = navigator.userAgent;\nconst clickEvent =\n  ua.match(/iPad/i) || ua.match(/iPhone/) ? 'touchstart' : 'click';\nconst paddingOffset = `${window.innerWidth - document.body.offsetWidth}px`;\n\nconst buttonOpenModal = document.querySelectorAll('.modal__open');\nconst modalContent = document.querySelectorAll('[data-windowid]');\nlet modalContentHTML = '';\n\nclass Modal {\n  constructor() {\n    const wrapper = document.querySelector('.wrapper');\n    const modal = this;\n\n    modal.create = function (className) {\n      modal.wrapper = document.createElement('div');\n      modal.window = document.createElement('div');\n      modal.content = document.createElement('div');\n      modal.closeButton = document.createElement('div');\n\n      modal.wrapper.classList.add('modal__wrapper');\n      modal.window.classList.add('modal');\n      modal.window.classList.add(className);\n      modal.content.classList.add('modal__content');\n      modal.closeButton.classList.add('modal__close');\n\n      document.body.insertBefore(modal.wrapper, wrapper);\n      modal.wrapper.appendChild(modal.window);\n      modal.window.appendChild(modal.closeButton);\n      modal.window.appendChild(modal.content);\n    };\n\n    modal.open = function () {\n      modal.wrapper.classList.add('modal__wrapper-active');\n      modal.window.classList.add('modal-fade-in');\n      modal.closeButton.classList.add('modal__close-active');\n\n      modal.content.innerHTML = modalContentHTML;\n\n      document.body.style.overflow = 'hidden';\n      document.body.style.paddingRight = paddingOffset;\n      document.querySelector('.header').style.paddingRight = paddingOffset;\n      document.querySelector('.footer').style.paddingRight = -paddingOffset;\n\n      return modal;\n    };\n\n    modal.close = function () {\n      modal.wrapper.classList.remove('modal__wrapper-active');\n      modal.closeButton.classList.remove('modal__close-active');\n      modal.wrapper.remove();\n\n      document.body.style.overflow = 'unset';\n      document.body.style.paddingRight = '0';\n      document.querySelector('.header').style.paddingRight = '0';\n      document.querySelector('.footer').style.paddingRight = '0';\n\n      return modal;\n    };\n\n    document.addEventListener(clickEvent, (e) => {\n      if (e.target === modal.wrapper || e.target === modal.closeButton) {\n        modal.close();\n      }\n    });\n  }\n}\n\nconst modal = new Modal();\n\nfunction addingContent(btn) {\n  for (let i = 0; i < modalContent.length; i += 1) {\n    if (modalContent[i].dataset.windowid === btn.dataset.buttonid) {\n      modal.create(modalContent[i].dataset.type);\n      modalContentHTML = modalContent[i].innerHTML;\n    }\n  }\n}\n\nbuttonOpenModal.forEach((button) => {\n  button.addEventListener(clickEvent, (e) => {\n    e.preventDefault();\n\n    addingContent(button);\n    modal.open();\n  });\n});\n\nfunction UrlExists(url) {\n  const http = new XMLHttpRequest();\n  http.open('HEAD', url, false);\n  http.send();\n  return http.status !== 404;\n}\n\nfunction generateURL(id) {\n  const query =\n    '?rel=0&showinfo=0&autoplay=1&modestbranding=1&iv_load_policy=3';\n  return `https://www.youtube.com/embed/${id}${query}`;\n}\n\nfunction createIframe(id) {\n  const iframe = document.createElement('iframe');\n\n  iframe.setAttribute('allowfullscreen', '');\n  iframe.setAttribute('frameborder', '0');\n  iframe.allow =\n    'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture';\n  iframe.setAttribute('src', generateURL(id));\n  iframe.classList.add('video__media');\n\n  return iframe;\n}\n\nfunction setupVideo(video) {\n  const vID = video.dataset.id;\n  const posterSrc = video.dataset.postersrc;\n  const posterCheck = +video.dataset.postercheck;\n  const linkContent = `\n    <picture>\n      <source srcset=\"https://i.ytimg.com/vi_webp/${vID}/maxresdefault.webp\" type=\"image/webp\">\n      <img class=\"video__media\" src=\"https://i.ytimg.com/vi/${vID}/maxresdefault.jpg\" alt=\"poster\">\n    </picture>\n  `;\n  const buttonContent = `\n    <svg class=\"play\" width=\"100\" height=\"100\" viewbox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path class=\"play__circle\" d=\"M50 100c27.614 0 50-22.386 50-50S77.614 0 50 0 0 22.386 0 50s22.386 50 50 50z\" />\n      <path class=\"play__triangle\" d=\"M69.166 48.463c.255.163.466.39.612.658a1.843 1.843 0 010 1.757 1.802 1.802 0 01-.612.659L40.726 69.72c-1.185.758-2.726-.11-2.726-1.538V31.818c0-1.427 1.54-2.296 2.727-1.537l28.439 18.182z\" />\n    </svg>\n  `;\n\n  const link = document.createElement('a');\n  link.classList.add('video__link');\n  link.setAttribute('href', 'https://youtu.be/ID'.replace('ID', vID));\n\n  if (posterCheck === 1) {\n    if (posterSrc && UrlExists(posterSrc)) {\n      link.innerHTML = `<img class=\"video__media\" src=\"${posterSrc}\" alt=\"poster\">`;\n    } else {\n      link.innerHTML = linkContent;\n    }\n  } else {\n    link.innerHTML = linkContent;\n  }\n\n  video.appendChild(link);\n\n  const button = document.createElement('button');\n  button.classList.add('video__button');\n  button.setAttribute('type', 'button');\n  button.setAttribute('aria-label', 'play');\n  button.innerHTML = buttonContent;\n  video.appendChild(button);\n\n  video.addEventListener('click', (e) => {\n    e.preventDefault();\n\n    if (!video.classList.contains('bonus__video')) {\n      const iframe = createIframe(vID);\n      link.remove();\n      button.remove();\n      video.appendChild(iframe);\n    }\n  });\n\n  link.removeAttribute('href');\n  video.classList.add('video--enabled');\n}\n\nfunction findVideo() {\n  const videos = document.querySelectorAll('.video');\n  for (let i = 0; i < videos.length; i += 1) {\n    setupVideo(videos[i]);\n  }\n}\n\nfindVideo();\n\n\nwindow.addEventListener('load', () => {});\n","const ua = navigator.userAgent;\nconst clickEvent =\n  ua.match(/iPad/i) || ua.match(/iPhone/) ? 'touchstart' : 'click';\nconst paddingOffset = `${window.innerWidth - document.body.offsetWidth}px`;\n\nconst buttonOpenModal = document.querySelectorAll('.modal__open');\nconst modalContent = document.querySelectorAll('[data-windowid]');\nlet modalContentHTML = '';\n\nclass Modal {\n  constructor() {\n    const wrapper = document.querySelector('.wrapper');\n    const modal = this;\n\n    modal.create = function (className) {\n      modal.wrapper = document.createElement('div');\n      modal.window = document.createElement('div');\n      modal.content = document.createElement('div');\n      modal.closeButton = document.createElement('div');\n\n      modal.wrapper.classList.add('modal__wrapper');\n      modal.window.classList.add('modal');\n      modal.window.classList.add(className);\n      modal.content.classList.add('modal__content');\n      modal.closeButton.classList.add('modal__close');\n\n      document.body.insertBefore(modal.wrapper, wrapper);\n      modal.wrapper.appendChild(modal.window);\n      modal.window.appendChild(modal.closeButton);\n      modal.window.appendChild(modal.content);\n    };\n\n    modal.open = function () {\n      modal.wrapper.classList.add('modal__wrapper-active');\n      modal.window.classList.add('modal-fade-in');\n      modal.closeButton.classList.add('modal__close-active');\n\n      modal.content.innerHTML = modalContentHTML;\n\n      document.body.style.overflow = 'hidden';\n      document.body.style.paddingRight = paddingOffset;\n      document.querySelector('.header').style.paddingRight = paddingOffset;\n      document.querySelector('.footer').style.paddingRight = -paddingOffset;\n\n      return modal;\n    };\n\n    modal.close = function () {\n      modal.wrapper.classList.remove('modal__wrapper-active');\n      modal.closeButton.classList.remove('modal__close-active');\n      modal.wrapper.remove();\n\n      document.body.style.overflow = 'unset';\n      document.body.style.paddingRight = '0';\n      document.querySelector('.header').style.paddingRight = '0';\n      document.querySelector('.footer').style.paddingRight = '0';\n\n      return modal;\n    };\n\n    document.addEventListener(clickEvent, (e) => {\n      if (e.target === modal.wrapper || e.target === modal.closeButton) {\n        modal.close();\n      }\n    });\n  }\n}\n\nconst modal = new Modal();\n\nfunction addingContent(btn) {\n  for (let i = 0; i < modalContent.length; i += 1) {\n    if (modalContent[i].dataset.windowid === btn.dataset.buttonid) {\n      modal.create(modalContent[i].dataset.type);\n      modalContentHTML = modalContent[i].innerHTML;\n    }\n  }\n}\n\nbuttonOpenModal.forEach((button) => {\n  button.addEventListener(clickEvent, (e) => {\n    e.preventDefault();\n\n    addingContent(button);\n    modal.open();\n  });\n});\n","function UrlExists(url) {\n  const http = new XMLHttpRequest();\n  http.open('HEAD', url, false);\n  http.send();\n  return http.status !== 404;\n}\n\nfunction generateURL(id) {\n  const query =\n    '?rel=0&showinfo=0&autoplay=1&modestbranding=1&iv_load_policy=3';\n  return `https://www.youtube.com/embed/${id}${query}`;\n}\n\nfunction createIframe(id) {\n  const iframe = document.createElement('iframe');\n\n  iframe.setAttribute('allowfullscreen', '');\n  iframe.setAttribute('frameborder', '0');\n  iframe.allow =\n    'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture';\n  iframe.setAttribute('src', generateURL(id));\n  iframe.classList.add('video__media');\n\n  return iframe;\n}\n\nfunction setupVideo(video) {\n  const vID = video.dataset.id;\n  const posterSrc = video.dataset.postersrc;\n  const posterCheck = +video.dataset.postercheck;\n  const linkContent = `\n    <picture>\n      <source srcset=\"https://i.ytimg.com/vi_webp/${vID}/maxresdefault.webp\" type=\"image/webp\">\n      <img class=\"video__media\" src=\"https://i.ytimg.com/vi/${vID}/maxresdefault.jpg\" alt=\"poster\">\n    </picture>\n  `;\n  const buttonContent = `\n    <svg class=\"play\" width=\"100\" height=\"100\" viewbox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path class=\"play__circle\" d=\"M50 100c27.614 0 50-22.386 50-50S77.614 0 50 0 0 22.386 0 50s22.386 50 50 50z\" />\n      <path class=\"play__triangle\" d=\"M69.166 48.463c.255.163.466.39.612.658a1.843 1.843 0 010 1.757 1.802 1.802 0 01-.612.659L40.726 69.72c-1.185.758-2.726-.11-2.726-1.538V31.818c0-1.427 1.54-2.296 2.727-1.537l28.439 18.182z\" />\n    </svg>\n  `;\n\n  const link = document.createElement('a');\n  link.classList.add('video__link');\n  link.setAttribute('href', 'https://youtu.be/ID'.replace('ID', vID));\n\n  if (posterCheck === 1) {\n    if (posterSrc && UrlExists(posterSrc)) {\n      link.innerHTML = `<img class=\"video__media\" src=\"${posterSrc}\" alt=\"poster\">`;\n    } else {\n      link.innerHTML = linkContent;\n    }\n  } else {\n    link.innerHTML = linkContent;\n  }\n\n  video.appendChild(link);\n\n  const button = document.createElement('button');\n  button.classList.add('video__button');\n  button.setAttribute('type', 'button');\n  button.setAttribute('aria-label', 'play');\n  button.innerHTML = buttonContent;\n  video.appendChild(button);\n\n  video.addEventListener('click', (e) => {\n    e.preventDefault();\n\n    if (!video.classList.contains('bonus__video')) {\n      const iframe = createIframe(vID);\n      link.remove();\n      button.remove();\n      video.appendChild(iframe);\n    }\n  });\n\n  link.removeAttribute('href');\n  video.classList.add('video--enabled');\n}\n\nfunction findVideo() {\n  const videos = document.querySelectorAll('.video');\n  for (let i = 0; i < videos.length; i += 1) {\n    setupVideo(videos[i]);\n  }\n}\n\nfindVideo();\n"]}