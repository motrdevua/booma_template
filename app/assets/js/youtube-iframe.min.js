"use strict";function UrlExists(e){const t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),404!==t.status}function generateURL(e){return"https://www.youtube.com/embed/".concat(e).concat("?rel=0&showinfo=0&autoplay=1&modestbranding=1&iv_load_policy=3")}function createIframe(e){const t=document.createElement("iframe");return t.setAttribute("allowfullscreen",""),t.setAttribute("frameborder","0"),t.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",t.setAttribute("src",generateURL(e)),t.classList.add("video__media"),t}function setupVideo(e){const t=e.dataset.id,s=e.dataset.postersrc,n=+e.dataset.postercheck,a='\n    <picture>\n      <source srcset="https://i.ytimg.com/vi_webp/'.concat(t,'/maxresdefault.webp" type="image/webp">\n      <img class="video__media" src="https://i.ytimg.com/vi/').concat(t,'/maxresdefault.jpg" alt="poster">\n    </picture>\n  '),i=document.createElement("a");i.classList.add("video__link"),i.setAttribute("href","https://youtu.be/ID".replace("ID",t)),1===n&&s&&UrlExists(s)?i.innerHTML='<img class="video__media" src="'.concat(s,'" alt="poster">'):i.innerHTML=a,e.appendChild(i);const c=document.createElement("button");c.classList.add("video__button"),c.setAttribute("type","button"),c.setAttribute("aria-label","play"),c.innerHTML='\n    <svg class="play" width="100" height="100" viewbox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path class="play__circle" d="M50 100c27.614 0 50-22.386 50-50S77.614 0 50 0 0 22.386 0 50s22.386 50 50 50z" />\n      <path class="play__triangle" d="M69.166 48.463c.255.163.466.39.612.658a1.843 1.843 0 010 1.757 1.802 1.802 0 01-.612.659L40.726 69.72c-1.185.758-2.726-.11-2.726-1.538V31.818c0-1.427 1.54-2.296 2.727-1.537l28.439 18.182z" />\n    </svg>\n  ',e.appendChild(c),e.addEventListener("click",(s=>{if(s.preventDefault(),!e.classList.contains("bonus__video")){const s=createIframe(t);i.remove(),c.remove(),e.appendChild(s)}})),i.removeAttribute("href"),e.classList.add("video--enabled")}function findVideo(){const e=document.querySelectorAll(".video");for(let t=0;t<e.length;t+=1)setupVideo(e[t])}findVideo();
//# sourceMappingURL=youtube-iframe.js.map
