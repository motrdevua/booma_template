{"version":3,"sources":["modal.js"],"names":["ua","navigator","userAgent","clickEvent","match","paddingOffset","concat","window","innerWidth","document","body","offsetWidth","buttonOpenModal","querySelectorAll","modalContent","modalContentHTML","Modal","constructor","wrapper","querySelector","modal","this","create","className","createElement","content","closeButton","classList","add","insertBefore","appendChild","open","innerHTML","style","overflow","paddingRight","close","remove","addEventListener","e","target","addingContent","btn","i","length","dataset","windowid","buttonid","type","forEach","button","preventDefault"],"mappings":"AAAA,aAAA,MAAMA,GAAKC,UAAUC,UACfC,WACJH,GAAGI,MAAM,UAAYJ,GAAGI,MAAM,UAAY,aAAe,QACrDC,cAAa,GAAAC,OAAMC,OAAOC,WAAaC,SAASC,KAAKC,YAAxC,MAEbC,gBAAkBH,SAASI,iBAAiB,gBAC5CC,aAAeL,SAASI,iBAAiB,mBAC/C,IAAIE,iBAAmB,GAEvB,MAAMC,MACJC,cACE,MAAMC,EAAUT,SAASU,cAAc,YACjCC,EAAQC,KAEdD,EAAME,OAAS,SAAUC,GACvBH,EAAMF,QAAUT,SAASe,cAAc,OACvCJ,EAAMb,OAASE,SAASe,cAAc,OACtCJ,EAAMK,QAAUhB,SAASe,cAAc,OACvCJ,EAAMM,YAAcjB,SAASe,cAAc,OAE3CJ,EAAMF,QAAQS,UAAUC,IAAI,kBAC5BR,EAAMb,OAAOoB,UAAUC,IAAI,SAC3BR,EAAMb,OAAOoB,UAAUC,IAAIL,GAC3BH,EAAMK,QAAQE,UAAUC,IAAI,kBAC5BR,EAAMM,YAAYC,UAAUC,IAAI,gBAEhCnB,SAASC,KAAKmB,aAAaT,EAAMF,QAASA,GAC1CE,EAAMF,QAAQY,YAAYV,EAAMb,QAChCa,EAAMb,OAAOuB,YAAYV,EAAMM,aAC/BN,EAAMb,OAAOuB,YAAYV,EAAMK,UAGjCL,EAAMW,KAAO,WAYX,OAXAX,EAAMF,QAAQS,UAAUC,IAAI,yBAC5BR,EAAMb,OAAOoB,UAAUC,IAAI,iBAC3BR,EAAMM,YAAYC,UAAUC,IAAI,uBAEhCR,EAAMK,QAAQO,UAAYjB,iBAE1BN,SAASC,KAAKuB,MAAMC,SAAW,SAC/BzB,SAASC,KAAKuB,MAAME,aAAe9B,cACnCI,SAASU,cAAc,WAAWc,MAAME,aAAe9B,cACvDI,SAASU,cAAc,WAAWc,MAAME,cAAgB9B,cAEjDe,GAGTA,EAAMgB,MAAQ,WAUZ,OATAhB,EAAMF,QAAQS,UAAUU,OAAO,yBAC/BjB,EAAMM,YAAYC,UAAUU,OAAO,uBACnCjB,EAAMF,QAAQmB,SAEd5B,SAASC,KAAKuB,MAAMC,SAAW,QAC/BzB,SAASC,KAAKuB,MAAME,aAAe,IACnC1B,SAASU,cAAc,WAAWc,MAAME,aAAe,IACvD1B,SAASU,cAAc,WAAWc,MAAME,aAAe,IAEhDf,GAGTX,SAAS6B,iBAAiBnC,YAAaoC,IACjCA,EAAEC,SAAWpB,EAAMF,SAAWqB,EAAEC,SAAWpB,EAAMM,aACnDN,EAAMgB,YAMd,MAAMhB,MAAQ,IAAIJ,MAElB,SAASyB,cAAcC,GACrB,IAAK,IAAIC,EAAI,EAAGA,EAAI7B,aAAa8B,OAAQD,GAAK,EACxC7B,aAAa6B,GAAGE,QAAQC,WAAaJ,EAAIG,QAAQE,WACnD3B,MAAME,OAAOR,aAAa6B,GAAGE,QAAQG,MACrCjC,iBAAmBD,aAAa6B,GAAGX,WAKzCpB,gBAAgBqC,SAASC,IACvBA,EAAOZ,iBAAiBnC,YAAaoC,IACnCA,EAAEY,iBAEFV,cAAcS,GACd9B,MAAMW","file":"modal.js","sourcesContent":["const ua = navigator.userAgent;\nconst clickEvent =\n  ua.match(/iPad/i) || ua.match(/iPhone/) ? 'touchstart' : 'click';\nconst paddingOffset = `${window.innerWidth - document.body.offsetWidth}px`;\n\nconst buttonOpenModal = document.querySelectorAll('.modal__open');\nconst modalContent = document.querySelectorAll('[data-windowid]');\nlet modalContentHTML = '';\n\nclass Modal {\n  constructor() {\n    const wrapper = document.querySelector('.wrapper');\n    const modal = this;\n\n    modal.create = function (className) {\n      modal.wrapper = document.createElement('div');\n      modal.window = document.createElement('div');\n      modal.content = document.createElement('div');\n      modal.closeButton = document.createElement('div');\n\n      modal.wrapper.classList.add('modal__wrapper');\n      modal.window.classList.add('modal');\n      modal.window.classList.add(className);\n      modal.content.classList.add('modal__content');\n      modal.closeButton.classList.add('modal__close');\n\n      document.body.insertBefore(modal.wrapper, wrapper);\n      modal.wrapper.appendChild(modal.window);\n      modal.window.appendChild(modal.closeButton);\n      modal.window.appendChild(modal.content);\n    };\n\n    modal.open = function () {\n      modal.wrapper.classList.add('modal__wrapper-active');\n      modal.window.classList.add('modal-fade-in');\n      modal.closeButton.classList.add('modal__close-active');\n\n      modal.content.innerHTML = modalContentHTML;\n\n      document.body.style.overflow = 'hidden';\n      document.body.style.paddingRight = paddingOffset;\n      document.querySelector('.header').style.paddingRight = paddingOffset;\n      document.querySelector('.footer').style.paddingRight = -paddingOffset;\n\n      return modal;\n    };\n\n    modal.close = function () {\n      modal.wrapper.classList.remove('modal__wrapper-active');\n      modal.closeButton.classList.remove('modal__close-active');\n      modal.wrapper.remove();\n\n      document.body.style.overflow = 'unset';\n      document.body.style.paddingRight = '0';\n      document.querySelector('.header').style.paddingRight = '0';\n      document.querySelector('.footer').style.paddingRight = '0';\n\n      return modal;\n    };\n\n    document.addEventListener(clickEvent, (e) => {\n      if (e.target === modal.wrapper || e.target === modal.closeButton) {\n        modal.close();\n      }\n    });\n  }\n}\n\nconst modal = new Modal();\n\nfunction addingContent(btn) {\n  for (let i = 0; i < modalContent.length; i += 1) {\n    if (modalContent[i].dataset.windowid === btn.dataset.buttonid) {\n      modal.create(modalContent[i].dataset.type);\n      modalContentHTML = modalContent[i].innerHTML;\n    }\n  }\n}\n\nbuttonOpenModal.forEach((button) => {\n  button.addEventListener(clickEvent, (e) => {\n    e.preventDefault();\n\n    addingContent(button);\n    modal.open();\n  });\n});\n"]}