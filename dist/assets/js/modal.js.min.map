{"version":3,"sources":["modal.js"],"names":["ua","navigator","userAgent","clickEvent","match","paddingOffset","concat","window","innerWidth","document","body","offsetWidth","buttonOpenModal","querySelectorAll","modalContent","modalContentHTML","Modal","constructor","wrapper","querySelector","modal","this","create","className","createElement","content","closeButton","classList","add","insertBefore","appendChild","open","innerHTML","style","overflow","paddingRight","close","remove","addEventListener","e","target","addingContent","btn","i","length","dataset","windowid","buttonid","type","forEach","button","preventDefault"],"mappings":"AAAA,aAAA,MAAMA,GAAKC,UAAUC,UACfC,WACJH,GAAGI,MAAM,UAAYJ,GAAGI,MAAM,UAAY,aAAe,QACrDC,cAAa,GAAAC,OAAMC,OAAOC,WAAaC,SAASC,KAAKC,YAAxC,MAEbC,gBAAkBH,SAASI,iBAAiB,gBAC5CC,aAAeL,SAASI,iBAAiB,mBAC/C,IAAIE,iBAAmB,GAEvB,MAAMC,MACJC,cACE,MAAMC,EAAUT,SAASU,cAAc,YACjCC,EAAQC,KAEdD,EAAME,OAAS,SAAUC,GACvBH,EAAMF,QAAUT,SAASe,cAAc,OACvCJ,EAAMb,OAASE,SAASe,cAAc,OACtCJ,EAAMK,QAAUhB,SAASe,cAAc,OACvCJ,EAAMM,YAAcjB,SAASe,cAAc,OAE3CJ,EAAMF,QAAQS,UAAUC,IAAI,kBAC5BR,EAAMb,OAAOoB,UAAUC,IAAI,SAC3BR,EAAMb,OAAOoB,UAAUC,IAAIL,GAC3BH,EAAMK,QAAQE,UAAUC,IAAI,kBAC5BR,EAAMM,YAAYC,UAAUC,IAAI,gBAEhCnB,SAASC,KAAKmB,aAAaT,EAAMF,QAASA,GAC1CE,EAAMF,QAAQY,YAAYV,EAAMb,QAChCa,EAAMb,OAAOuB,YAAYV,EAAMM,aAC/BN,EAAMb,OAAOuB,YAAYV,EAAMK,UAGjCL,EAAMW,KAAO,WAYX,OAXAX,EAAMF,QAAQS,UAAUC,IAAI,yBAC5BR,EAAMb,OAAOoB,UAAUC,IAAI,iBAC3BR,EAAMM,YAAYC,UAAUC,IAAI,uBAEhCR,EAAMK,QAAQO,UAAYjB,iBAE1BN,SAASC,KAAKuB,MAAMC,SAAW,SAC/BzB,SAASC,KAAKuB,MAAME,aAAe9B,cACnCI,SAASU,cAAc,WAAWc,MAAME,aAAe9B,cACvDI,SAASU,cAAc,WAAWc,MAAME,cAAgB9B,cAEjDe,GAGTA,EAAMgB,MAAQ,WAUZ,OATAhB,EAAMF,QAAQS,UAAUU,OAAO,yBAC/BjB,EAAMM,YAAYC,UAAUU,OAAO,uBACnCjB,EAAMF,QAAQmB,SAEd5B,SAASC,KAAKuB,MAAMC,SAAW,QAC/BzB,SAASC,KAAKuB,MAAME,aAAe,IACnC1B,SAASU,cAAc,WAAWc,MAAME,aAAe,IACvD1B,SAASU,cAAc,WAAWc,MAAME,aAAe,IAEhDf,GAGTX,SAAS6B,iBAAiBnC,YAAaoC,IACjCA,EAAEC,SAAWpB,EAAMF,SAAWqB,EAAEC,SAAWpB,EAAMM,aACnDN,EAAMgB,YAMd,MAAMhB,MAAQ,IAAIJ,MAElB,SAASyB,cAAcC,GACrB,IAAK,IAAIC,EAAI,EAAGA,EAAI7B,aAAa8B,OAAQD,GAAK,EACxC7B,aAAa6B,GAAGE,QAAQC,WAAaJ,EAAIG,QAAQE,WACnD3B,MAAME,OAAOR,aAAa6B,GAAGE,QAAQG,MACrCjC,iBAAmBD,aAAa6B,GAAGX,WAKzCpB,gBAAgBqC,SAASC,IACvBA,EAAOZ,iBAAiBnC,YAAaoC,IACnCA,EAAEY,iBAEFV,cAAcS,GACd9B,MAAMW","file":"modal.js","sourcesContent":["const ua = navigator.userAgent;\r\nconst clickEvent =\r\n  ua.match(/iPad/i) || ua.match(/iPhone/) ? 'touchstart' : 'click';\r\nconst paddingOffset = `${window.innerWidth - document.body.offsetWidth}px`;\r\n\r\nconst buttonOpenModal = document.querySelectorAll('.modal__open');\r\nconst modalContent = document.querySelectorAll('[data-windowid]');\r\nlet modalContentHTML = '';\r\n\r\nclass Modal {\r\n  constructor() {\r\n    const wrapper = document.querySelector('.wrapper');\r\n    const modal = this;\r\n\r\n    modal.create = function (className) {\r\n      modal.wrapper = document.createElement('div');\r\n      modal.window = document.createElement('div');\r\n      modal.content = document.createElement('div');\r\n      modal.closeButton = document.createElement('div');\r\n\r\n      modal.wrapper.classList.add('modal__wrapper');\r\n      modal.window.classList.add('modal');\r\n      modal.window.classList.add(className);\r\n      modal.content.classList.add('modal__content');\r\n      modal.closeButton.classList.add('modal__close');\r\n\r\n      document.body.insertBefore(modal.wrapper, wrapper);\r\n      modal.wrapper.appendChild(modal.window);\r\n      modal.window.appendChild(modal.closeButton);\r\n      modal.window.appendChild(modal.content);\r\n    };\r\n\r\n    modal.open = function () {\r\n      modal.wrapper.classList.add('modal__wrapper-active');\r\n      modal.window.classList.add('modal-fade-in');\r\n      modal.closeButton.classList.add('modal__close-active');\r\n\r\n      modal.content.innerHTML = modalContentHTML;\r\n\r\n      document.body.style.overflow = 'hidden';\r\n      document.body.style.paddingRight = paddingOffset;\r\n      document.querySelector('.header').style.paddingRight = paddingOffset;\r\n      document.querySelector('.footer').style.paddingRight = -paddingOffset;\r\n\r\n      return modal;\r\n    };\r\n\r\n    modal.close = function () {\r\n      modal.wrapper.classList.remove('modal__wrapper-active');\r\n      modal.closeButton.classList.remove('modal__close-active');\r\n      modal.wrapper.remove();\r\n\r\n      document.body.style.overflow = 'unset';\r\n      document.body.style.paddingRight = '0';\r\n      document.querySelector('.header').style.paddingRight = '0';\r\n      document.querySelector('.footer').style.paddingRight = '0';\r\n\r\n      return modal;\r\n    };\r\n\r\n    document.addEventListener(clickEvent, (e) => {\r\n      if (e.target === modal.wrapper || e.target === modal.closeButton) {\r\n        modal.close();\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nconst modal = new Modal();\r\n\r\nfunction addingContent(btn) {\r\n  for (let i = 0; i < modalContent.length; i += 1) {\r\n    if (modalContent[i].dataset.windowid === btn.dataset.buttonid) {\r\n      modal.create(modalContent[i].dataset.type);\r\n      modalContentHTML = modalContent[i].innerHTML;\r\n    }\r\n  }\r\n}\r\n\r\nbuttonOpenModal.forEach((button) => {\r\n  button.addEventListener(clickEvent, (e) => {\r\n    e.preventDefault();\r\n\r\n    addingContent(button);\r\n    modal.open();\r\n  });\r\n});\r\n"]}