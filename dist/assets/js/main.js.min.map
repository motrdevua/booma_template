{"version":3,"sources":["main.js","modal.js","youtube-iframe.js"],"names":["ua","navigator","userAgent","clickEvent","match","paddingOffset","concat","window","innerWidth","document","body","offsetWidth","buttonOpenModal","querySelectorAll","modalContent","modalContentHTML","Modal","constructor","wrapper","querySelector","modal","this","create","className","createElement","content","closeButton","classList","add","insertBefore","appendChild","open","innerHTML","style","overflow","paddingRight","close","remove","addEventListener","e","target","addingContent","btn","i","length","dataset","windowid","buttonid","type","UrlExists","url","http","XMLHttpRequest","send","status","generateURL","id","createIframe","iframe","setAttribute","allow","setupVideo","video","vID","posterSrc","postersrc","posterCheck","postercheck","linkContent","link","replace","button","preventDefault","contains","removeAttribute","findVideo","videos","installmentPlan","ccLocalParams","locationLang","location","pathname","split","installmentPlanBox","installmentPlanMonths","forEach"],"mappings":"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","file":"main.js","sourcesContent":["//= include modal.js\n//= include youtube-iframe.js\n//= include installment-plan.js\n\nwindow.addEventListener('load', () => {});\n","const ua = navigator.userAgent;\r\nconst clickEvent =\r\n  ua.match(/iPad/i) || ua.match(/iPhone/) ? 'touchstart' : 'click';\r\nconst paddingOffset = `${window.innerWidth - document.body.offsetWidth}px`;\r\n\r\nconst buttonOpenModal = document.querySelectorAll('.modal__open');\r\nconst modalContent = document.querySelectorAll('[data-windowid]');\r\nlet modalContentHTML = '';\r\n\r\nclass Modal {\r\n  constructor() {\r\n    const wrapper = document.querySelector('.wrapper');\r\n    const modal = this;\r\n\r\n    modal.create = function (className) {\r\n      modal.wrapper = document.createElement('div');\r\n      modal.window = document.createElement('div');\r\n      modal.content = document.createElement('div');\r\n      modal.closeButton = document.createElement('div');\r\n\r\n      modal.wrapper.classList.add('modal__wrapper');\r\n      modal.window.classList.add('modal');\r\n      modal.window.classList.add(className);\r\n      modal.content.classList.add('modal__content');\r\n      modal.closeButton.classList.add('modal__close');\r\n\r\n      document.body.insertBefore(modal.wrapper, wrapper);\r\n      modal.wrapper.appendChild(modal.window);\r\n      modal.window.appendChild(modal.closeButton);\r\n      modal.window.appendChild(modal.content);\r\n    };\r\n\r\n    modal.open = function () {\r\n      modal.wrapper.classList.add('modal__wrapper-active');\r\n      modal.window.classList.add('modal-fade-in');\r\n      modal.closeButton.classList.add('modal__close-active');\r\n\r\n      modal.content.innerHTML = modalContentHTML;\r\n\r\n      document.body.style.overflow = 'hidden';\r\n      document.body.style.paddingRight = paddingOffset;\r\n      document.querySelector('.header').style.paddingRight = paddingOffset;\r\n      document.querySelector('.footer').style.paddingRight = -paddingOffset;\r\n\r\n      return modal;\r\n    };\r\n\r\n    modal.close = function () {\r\n      modal.wrapper.classList.remove('modal__wrapper-active');\r\n      modal.closeButton.classList.remove('modal__close-active');\r\n      modal.wrapper.remove();\r\n\r\n      document.body.style.overflow = 'unset';\r\n      document.body.style.paddingRight = '0';\r\n      document.querySelector('.header').style.paddingRight = '0';\r\n      document.querySelector('.footer').style.paddingRight = '0';\r\n\r\n      return modal;\r\n    };\r\n\r\n    document.addEventListener(clickEvent, (e) => {\r\n      if (e.target === modal.wrapper || e.target === modal.closeButton) {\r\n        modal.close();\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nconst modal = new Modal();\r\n\r\nfunction addingContent(btn) {\r\n  for (let i = 0; i < modalContent.length; i += 1) {\r\n    if (modalContent[i].dataset.windowid === btn.dataset.buttonid) {\r\n      modal.create(modalContent[i].dataset.type);\r\n      modalContentHTML = modalContent[i].innerHTML;\r\n    }\r\n  }\r\n}\r\n\r\nbuttonOpenModal.forEach((button) => {\r\n  button.addEventListener(clickEvent, (e) => {\r\n    e.preventDefault();\r\n\r\n    addingContent(button);\r\n    modal.open();\r\n  });\r\n});\r\n","function UrlExists(url) {\r\n  const http = new XMLHttpRequest();\r\n  http.open('HEAD', url, false);\r\n  http.send();\r\n  return http.status !== 404;\r\n}\r\n\r\nfunction generateURL(id) {\r\n  const query =\r\n    '?rel=0&showinfo=0&autoplay=1&modestbranding=1&iv_load_policy=3';\r\n  return `https://www.youtube.com/embed/${id}${query}`;\r\n}\r\n\r\nfunction createIframe(id) {\r\n  const iframe = document.createElement('iframe');\r\n\r\n  iframe.setAttribute('allowfullscreen', '');\r\n  iframe.setAttribute('frameborder', '0');\r\n  iframe.allow =\r\n    'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture';\r\n  iframe.setAttribute('src', generateURL(id));\r\n  iframe.classList.add('video__media');\r\n\r\n  return iframe;\r\n}\r\n\r\nfunction setupVideo(video) {\r\n  const vID = video.dataset.id;\r\n  const posterSrc = video.dataset.postersrc;\r\n  const posterCheck = +video.dataset.postercheck;\r\n  const linkContent = `\r\n    <picture>\r\n      <source srcset=\"https://i.ytimg.com/vi_webp/${vID}/maxresdefault.webp\" type=\"image/webp\">\r\n      <img class=\"video__media\" src=\"https://i.ytimg.com/vi/${vID}/maxresdefault.jpg\" alt=\"poster\">\r\n    </picture>\r\n  `;\r\n  const buttonContent = `\r\n    <svg class=\"play\" width=\"100\" height=\"100\" viewbox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path class=\"play__circle\" d=\"M50 100c27.614 0 50-22.386 50-50S77.614 0 50 0 0 22.386 0 50s22.386 50 50 50z\" />\r\n      <path class=\"play__triangle\" d=\"M69.166 48.463c.255.163.466.39.612.658a1.843 1.843 0 010 1.757 1.802 1.802 0 01-.612.659L40.726 69.72c-1.185.758-2.726-.11-2.726-1.538V31.818c0-1.427 1.54-2.296 2.727-1.537l28.439 18.182z\" />\r\n    </svg>\r\n  `;\r\n\r\n  const link = document.createElement('a');\r\n  link.classList.add('video__link');\r\n  link.setAttribute('href', 'https://youtu.be/ID'.replace('ID', vID));\r\n\r\n  if (posterCheck === 1) {\r\n    if (posterSrc && UrlExists(posterSrc)) {\r\n      link.innerHTML = `<img class=\"video__media\" src=\"${posterSrc}\" alt=\"poster\">`;\r\n    } else {\r\n      link.innerHTML = linkContent;\r\n    }\r\n  } else {\r\n    link.innerHTML = linkContent;\r\n  }\r\n\r\n  video.appendChild(link);\r\n\r\n  const button = document.createElement('button');\r\n  button.classList.add('video__button');\r\n  button.setAttribute('type', 'button');\r\n  button.setAttribute('aria-label', 'play');\r\n  button.innerHTML = buttonContent;\r\n  video.appendChild(button);\r\n\r\n  video.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!video.classList.contains('bonus__video')) {\r\n      const iframe = createIframe(vID);\r\n      link.remove();\r\n      button.remove();\r\n      video.appendChild(iframe);\r\n    }\r\n  });\r\n\r\n  link.removeAttribute('href');\r\n  video.classList.add('video--enabled');\r\n}\r\n\r\nfunction findVideo() {\r\n  const videos = document.querySelectorAll('.video');\r\n  for (let i = 0; i < videos.length; i += 1) {\r\n    setupVideo(videos[i]);\r\n  }\r\n}\r\n\r\nfindVideo();\r\n"]}